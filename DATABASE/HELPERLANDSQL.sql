-- MySQL Script generated by MySQL Workbench
-- Sat Jan 22 00:00:04 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`ADDRESS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ADDRESS` (
  `ADDRESS_ID` INT NOT NULL,
  `CITY_ID` VARCHAR(45) NOT NULL,
  `HOUSE_NUMBER` INT NOT NULL,
  `POSTAL_CODE` VARCHAR(45) NULL,
  PRIMARY KEY (`ADDRESS_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FEEDBACK`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FEEDBACK` (
  `COUSTMER_ID` VARCHAR(45) NOT NULL,
  `ORDER_ID` VARCHAR(45) NOT NULL,
  `STARS` VARCHAR(45) NULL,
  `FEEDBACK_COMMENT` INT NULL,
  `FEEDBACK_ID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ORDER_ID`, `FEEDBACK_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CUSTOMER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CUSTOMER` (
  `CUSTOMER_ID` VARCHAR(45) NOT NULL,
  `COUSTMER_NAME` VARCHAR(45) NOT NULL,
  `PHON_NUMBER` INT(10) NOT NULL,
  `EMAIL_ADDRESS` VARCHAR(45) NOT NULL,
  `ORDER_DETAILS` VARCHAR(45) NOT NULL,
  `ADDRESS_ID` VARCHAR(45) NOT NULL,
  `ADDRESS_ADDRESS_ID` INT NOT NULL,
  `FEEDBACK_ID` VARCHAR(45) NOT NULL,
  `FEEDBACK_ORDER_ID` VARCHAR(45) NOT NULL,
  `FEEDBACK_FEEDBACK_ID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CUSTOMER_ID`),
  UNIQUE INDEX `EMAIL_ID_UNIQUE` (`EMAIL_ADDRESS` ASC) VISIBLE,
  UNIQUE INDEX `PHON_NUMBER_UNIQUE` (`PHON_NUMBER` ASC) VISIBLE,
  INDEX `fk_CUSTOMER_ADDRESS1_idx` (`ADDRESS_ADDRESS_ID` ASC) VISIBLE,
  INDEX `fk_CUSTOMER_FEEDBACK1_idx` (`FEEDBACK_ORDER_ID` ASC, `FEEDBACK_FEEDBACK_ID` ASC) VISIBLE,
  CONSTRAINT `fk_CUSTOMER_ADDRESS1`
    FOREIGN KEY (`ADDRESS_ADDRESS_ID`)
    REFERENCES `mydb`.`ADDRESS` (`ADDRESS_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CUSTOMER_FEEDBACK1`
    FOREIGN KEY (`FEEDBACK_ORDER_ID` , `FEEDBACK_FEEDBACK_ID`)
    REFERENCES `mydb`.`FEEDBACK` (`ORDER_ID` , `FEEDBACK_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`HELPER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`HELPER` (
  `HELPER_ID` INT NOT NULL,
  `COUSTMER_NAME` VARCHAR(45) NOT NULL,
  `EMAIL_ADDRESS` VARCHAR(45) NOT NULL,
  `COUSTMER_PHONE` INT(10) NOT NULL,
  `ADDRESS_ADDRESS_ID` INT NOT NULL,
  PRIMARY KEY (`HELPER_ID`),
  UNIQUE INDEX `PHONE_NUMBER_UNIQUE` (`COUSTMER_PHONE` ASC) VISIBLE,
  INDEX `fk_HELPER_ADDRESS_idx` (`ADDRESS_ADDRESS_ID` ASC) VISIBLE,
  CONSTRAINT `fk_HELPER_ADDRESS`
    FOREIGN KEY (`ADDRESS_ADDRESS_ID`)
    REFERENCES `mydb`.`ADDRESS` (`ADDRESS_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SERVICE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`SERVICE` (
  `SERVICE_ID` VARCHAR(45) NOT NULL,
  `SERVICE_TYPE_CODE` VARCHAR(45) NULL,
  `HELPER_ID` VARCHAR(45) NULL,
  `SERVICE_NAME` VARCHAR(45) NULL,
  `HELPER_HELPER_ID` INT NOT NULL,
  PRIMARY KEY (`SERVICE_ID`),
  INDEX `fk_SERVICE_HELPER1_idx` (`HELPER_HELPER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_SERVICE_HELPER1`
    FOREIGN KEY (`HELPER_HELPER_ID`)
    REFERENCES `mydb`.`HELPER` (`HELPER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`REQUEST_STATUS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`REQUEST_STATUS` (
  `REQUEST_STATUS_CODE` VARCHAR(45) NOT NULL,
  `STATUS` TINYINT NULL,
  PRIMARY KEY (`REQUEST_STATUS_CODE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SERVICE_REQUEST`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`SERVICE_REQUEST` (
  `SERVICE_REQUEST_ID` VARCHAR(45) NOT NULL,
  `COUSTMER_ID` VARCHAR(45) NULL,
  `RELATED_SERVICE_REQUEST_ID` VARCHAR(45) NULL,
  `REQUEST_STATUS_CODE` VARCHAR(45) NULL,
  `SERVICE_REQUEST_DATE` DATE NULL,
  `SERVICE_REQUEST_SERVICE_REQUEST_ID` VARCHAR(45) NOT NULL,
  `SERVICE_SERVICE_ID` VARCHAR(45) NOT NULL,
  `CUSTOMER_CUSTOMER_ID` VARCHAR(45) NOT NULL,
  `REQUEST_STATUS_REQUEST_STATUS_CODE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`SERVICE_REQUEST_ID`),
  INDEX `fk_SERVICE_REQUEST_SERVICE_REQUEST1_idx` (`SERVICE_REQUEST_SERVICE_REQUEST_ID` ASC) VISIBLE,
  INDEX `fk_SERVICE_REQUEST_SERVICE1_idx` (`SERVICE_SERVICE_ID` ASC) VISIBLE,
  INDEX `fk_SERVICE_REQUEST_CUSTOMER1_idx` (`CUSTOMER_CUSTOMER_ID` ASC) VISIBLE,
  INDEX `fk_SERVICE_REQUEST_REQUEST_STATUS1_idx` (`REQUEST_STATUS_REQUEST_STATUS_CODE` ASC) VISIBLE,
  CONSTRAINT `fk_SERVICE_REQUEST_SERVICE_REQUEST1`
    FOREIGN KEY (`SERVICE_REQUEST_SERVICE_REQUEST_ID`)
    REFERENCES `mydb`.`SERVICE_REQUEST` (`SERVICE_REQUEST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SERVICE_REQUEST_SERVICE1`
    FOREIGN KEY (`SERVICE_SERVICE_ID`)
    REFERENCES `mydb`.`SERVICE` (`SERVICE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SERVICE_REQUEST_CUSTOMER1`
    FOREIGN KEY (`CUSTOMER_CUSTOMER_ID`)
    REFERENCES `mydb`.`CUSTOMER` (`CUSTOMER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SERVICE_REQUEST_REQUEST_STATUS1`
    FOREIGN KEY (`REQUEST_STATUS_REQUEST_STATUS_CODE`)
    REFERENCES `mydb`.`REQUEST_STATUS` (`REQUEST_STATUS_CODE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ORDER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ORDER` (
  `ORDER_ID` VARCHAR(45) NULL,
  `ORDER_TIME` DATE NOT NULL,
  `ORDER_STATUS_CODE` VARCHAR(45) NULL,
  `SERVICE_REQUEST_SERVICE_REQUEST_ID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ORDER_ID`),
  INDEX `fk_ORDER_SERVICE_REQUEST1_idx` (`SERVICE_REQUEST_SERVICE_REQUEST_ID` ASC) VISIBLE,
  CONSTRAINT `fk_ORDER_SERVICE_REQUEST1`
    FOREIGN KEY (`SERVICE_REQUEST_SERVICE_REQUEST_ID`)
    REFERENCES `mydb`.`SERVICE_REQUEST` (`SERVICE_REQUEST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`INVOICE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`INVOICE` (
  `INVOICE_ID` INT NOT NULL,
  `ORDER_ID` VARCHAR(45) NOT NULL,
  `CUSTOMER_ID` VARCHAR(45) NULL,
  `ORDER_ORDER_ID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`INVOICE_ID`),
  UNIQUE INDEX `ORDER_ID_UNIQUE` (`ORDER_ID` ASC) VISIBLE,
  INDEX `fk_INVOICE_ORDER1_idx` (`ORDER_ORDER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_INVOICE_ORDER1`
    FOREIGN KEY (`ORDER_ORDER_ID`)
    REFERENCES `mydb`.`ORDER` (`ORDER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PAYMENT_METHODS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PAYMENT_METHODS` (
  `PAYMENT_METHOD_CODE` VARCHAR(45) NOT NULL,
  `CARD_NUMBER` INT NULL,
  PRIMARY KEY (`PAYMENT_METHOD_CODE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PAYMENT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PAYMENT` (
  `PAYMENT_ID` INT NOT NULL,
  `PAYMENT_METHOD_CODE` VARCHAR(45) NOT NULL,
  `SERVICE_REQUEST_ID` VARCHAR(45) NOT NULL,
  `PAYMENT_DATE` DATE NOT NULL,
  `PAYMENT_AMOUNT` VARCHAR(45) NULL,
  `SERVICE_REQUEST_SERVICE_REQUEST_ID` VARCHAR(45) NOT NULL,
  `PAYMENT_METHODS_PAYMENT_METHOD_CODE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`PAYMENT_ID`),
  INDEX `fk_PAYMENT_SERVICE_REQUEST1_idx` (`SERVICE_REQUEST_SERVICE_REQUEST_ID` ASC) VISIBLE,
  INDEX `fk_PAYMENT_PAYMENT_METHODS1_idx` (`PAYMENT_METHODS_PAYMENT_METHOD_CODE` ASC) VISIBLE,
  CONSTRAINT `fk_PAYMENT_SERVICE_REQUEST1`
    FOREIGN KEY (`SERVICE_REQUEST_SERVICE_REQUEST_ID`)
    REFERENCES `mydb`.`SERVICE_REQUEST` (`SERVICE_REQUEST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PAYMENT_PAYMENT_METHODS1`
    FOREIGN KEY (`PAYMENT_METHODS_PAYMENT_METHOD_CODE`)
    REFERENCES `mydb`.`PAYMENT_METHODS` (`PAYMENT_METHOD_CODE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ORDER_STATUS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ORDER_STATUS` (
  `ORDER_STATUS` TINYINT NULL,
  `ORDER_STATUS_CODE` VARCHAR(45) NOT NULL,
  `ORDER_ORDER_ID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ORDER_STATUS_CODE`),
  INDEX `fk_ORDER_STATUS_ORDER1_idx` (`ORDER_ORDER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_ORDER_STATUS_ORDER1`
    FOREIGN KEY (`ORDER_ORDER_ID`)
    REFERENCES `mydb`.`ORDER` (`ORDER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CITY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CITY` (
  `CITY_CODE` INT NOT NULL,
  `CITY_NAME` VARCHAR(45) NULL,
  `POSTAL_CODE` VARCHAR(45) NULL,
  `ADDRESS_ADDRESS_ID` INT NOT NULL,
  PRIMARY KEY (`CITY_CODE`),
  INDEX `fk_CITY_ADDRESS1_idx` (`ADDRESS_ADDRESS_ID` ASC) VISIBLE,
  CONSTRAINT `fk_CITY_ADDRESS1`
    FOREIGN KEY (`ADDRESS_ADDRESS_ID`)
    REFERENCES `mydb`.`ADDRESS` (`ADDRESS_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
